---
  import { profile } from "$envs/profile"
  import Langlink from "./langlink.astro";
  const rootPath = Astro.request.url
  const langsets = []
  for (const i in profile.Langs.slice(1)) {
    langsets.push(`${rootPath}--${profile.Langs[i].locale}`, profile.Langs[i].display)
  }
---

<div class="navbar-item has-dropdown is-hoverable">
  <p class="navbar-link is-size-6 is-arrowless  langswitch">
    LANGUAGE: langname
  </p>
  <div class="navbar-dropdown">
    <ul>
      <li>
        <Langlink href={rootPath} disp={profile.Langs[0].display} />
      </li>
      {langsets.map(langset => {
      return (
      <li>
        <Langlink href={langset[0]} disp={langset[1]} />
      </li>
      )
      })}
    </ul>
  </div>
</div>

<style lang="scss">
  p.langswitch {
    border: 1px solid;
    font-size: 0.7em;
  }
</style>