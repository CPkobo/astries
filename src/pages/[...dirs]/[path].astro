---
import { navs, pagepaths } from "$src/_envs/navs.ts"
import { getContents } from "$scripts/_i18n"
import Base from "$layouts/Base.astro"
import BlockControl from "$lib/Blocks/BlockControl.astro"
import Sticker from "$lib/Globals/SideSticker/Sticker.astro"
import FilledBar from "$lib/Util/FilledBar.astro"
import BreadCrumb from "$lib/Util/BreadCrumb/BreadCrumb.astro"

export async function getStaticPaths() {
   return pagepaths
}

const {dirs, path} = Astro.request.params
const page = await getContents(dirs, path, "ja")
const direction: AstriesDirection = {
	head: {
		lang: 'ja',
		title: "ASTRIES GB",
		description: "The Landing page for Astries demo"
	},
	hasHeaderMenu: true,
	hasFooterMenu: true,
	hasSideMenu: true,
	pagetype: 'Left-Right',
	navigations: navs.ja
}
---

<Base direction={direction}>
  <scetion slot="top">
    <!-- <FilledBar title={page.$title} /> -->
    <BreadCrumb breadCrumb={page.breadCrumb} />
  </scetion>
  <section slot="main">
    <BlockControl blks={page.contents} />
  </section>
  <section slot="side" style="width: 100%; height: 100%">
    <Sticker menu={page.category  } />
  </section>
</Base>