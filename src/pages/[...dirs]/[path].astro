---
import { pagepaths } from "$scripts/navs.ts"
import { getContents } from "$scripts/_i18n"
import Base from "$layouts/Base.astro"
import BlockControl from "$lib/Blocks/BlockControl.astro"
import Sticker from "$lib/Globals/SideSticker/Sticker.astro"

import { navs } from "$src/_resources/navs"

export async function getStaticPaths() {
   return pagepaths
}

const {dirs, path} = Astro.request.params
const { contents } = await getContents(dirs, path, "ja")

const direction: AstriesDirection = {
	head: {
		lang: 'ja',
		title: "ASTRIES GB",
		description: "The Landing page for Astries demo"
	},
	hasHeaderMenu: true,
	hasFooterMenu: true,
	hasSideMenu: true,
	pagetype: 'Left-Right',
	navigations: navs.ja
}
---

<Base direction={direction}>
  <section slot="main">
    <BlockControl blks={contents} />
  </section>
  <section slot="side" style="height: 100%">
    <Sticker menu={navs.ja} />
  </section>
</Base>